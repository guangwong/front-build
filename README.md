# Kissy Pie (ki)

## å¥¹æ˜¯ä»€ä¹ˆï¼Ÿ

KissyPieæ˜¯é¢å‘å‰ç«¯çš„è‡ªåŠ¨åŒ–å¼€å‘ç¯å¢ƒã€‚æ˜¯æ—¶å€™å’Œã€€Ant è¯´å†è§äº†ï¼

- èƒ½å¸®åŠ©ä½ åˆå§‹åŒ–ï¼Œæ£€æŸ¥ï¼Œæ‰“åŒ…ï¼Œå‹ç¼©ä½ çš„å‰ç«¯ä»£ç ï¼ˆåŒ…æ‹¬css, js, less)ï¼›
- åŸºäºä¸€å¥—ç›®å½•ç»“æ„è§„èŒƒ, ç‰¹ç‚¹æ˜¯ï¼š
    - æ¨¡å—åŒ–ï¼ˆKissy Module Compile, Css-Comboï¼Œã€€Lessã€€çš„å¼•å…¥, æä¾›é«˜åº¦æ¨¡å—åŒ–æ”¯æŒï¼‰
    - å¯æ‹¬å±•æ€§ (å°†åº”ç”¨æ‹†åˆ†ä¸ºPageï¼Œã€€æ–¹ä¾¿åº”ç”¨çš„æ‰©å±•)
    - é€‚åº¦çµæ´» (Commonç›®å½•å¯ç›´æ¥å¼•ç”¨)
    - å¯å¤ç”¨,ã€€åº”ç”¨çš„ã€€Utilsã€€ç›®å½•æä¾›è·¨Pageçš„ä»£ç å¯å¤ç”¨ï¼Œã€€CommonLib æä¾›è·¨åº”ç”¨çš„ä»£ç å¤ç”¨
    - å®‰å…¨æ€§ï¼Œå‘å¸ƒåŸºäºæ—¶é—´æˆ³ç›®å½•æä¾›äº†ä¸åç«¯çš„è§£è€¦, ä»¥Pageä¸ºå•ä½å¯éš”ç¦»é£é™©ã€‚
- å‹å¥½çš„äº¤äº’ç•Œé¢ï¼Œã€€å¿«é€Ÿçš„æ‰“åŒ…

[ç›®å½•ç»“æ„æ ·ä¾‹](https://github.com/maxbbn/front-build/tree/kissy-pie-m/sample-project)

## é€‚ç”¨åœºæ™¯

- åŸºäº kissy1.2+ çš„æ–°é¡¹ç›®æˆ–æ–°åº”ç”¨
- å°†ä½ çš„è€åº”ç”¨è¿ç§»è‡³ Kissy Pie

## å¿«é€Ÿå¼€å§‹

### å®‰è£… Kissy Pie

1. é¦–å…ˆå®‰è£… nodejs ç¯å¢ƒ (and npm) http://nodejs.org/#download
2. npm install kissy-pie -g
3. done!

### ä½¿ç”¨ Kissy Pie
1. è¿›å…¥ä½ åº”ç”¨çš„assetsç›®å½•ï¼Œã€€æ‰§è¡Œå‘½ä»¤ `ki init`
2. æ‰§è¡Œ `ki web`ã€€æ‰“å¼€å¯è§†åŒ–ç•Œé¢
3. enjoy!

### æ›´æ–° Kissy Pie

1. npm update front-build -g
2. done!


## ä½¿ç”¨
ä½ å¯ä»¥é€šè¿‡ç•Œé¢æˆ–å‘½ä»¤è¡Œæ¥ä½¿ç”¨ã€€Kissyã€€Pie

### ç•Œé¢

ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ `ki web` æ¥å¯åŠ¨åŸºäºæµè§ˆå™¨çš„å¯è§†ç•Œé¢ã€‚

### å‘½ä»¤è¡Œ

<table>
    <thead>
        <tr>
            <td>å‘½ä»¤</td>
            <td>ç®€ä»‹</td>
            <td>ç¤ºä¾‹</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>ki init</td>
            <td>åˆå§‹åŒ–ï¼Œ è¯·åœ¨åº”ç”¨ã€€Assetsæ ¹ç›®å½•ä¸‹æ‰§è¡Œã€‚</td>
            <td></td>
        </tr>
        <tr>
            <td>ki update</td>
            <td>Kissy Pie æ›´æ–°æˆ–ä¿®å¤ä½ çš„å½“å‰åº”ç”¨</td>
            <td></td>
        </tr>
        <tr>
            <td>ki web</td>
            <td>å¼€å¯æœ¬åœ°WebæœåŠ¡å™¨ï¼Œä»æµè§ˆå™¨è®¿é—® http://127.0.0.1:8765<br>
                å¦‚æœåœ¨åº”ç”¨ä¸‹æ‰§è¡Œï¼Œ å¯åœ¨ç•Œé¢ä¸­ç›´è¾¾å½“å‰åº”ç”¨ã€‚<br>
                å¼ºçƒˆæ¨èï¼ï¼å¯åœ¨ä¸€ä¸ªå¯è§†åŒ–ç•Œé¢é‡Œé¢æ‰§è¡Œå¸¸ç”¨çš„æ“ä½œï¼Œå¦‚æ‰“åŒ…ï¼Œæ·»åŠ æ–°çš„Pageæˆ–Versionç­‰ã€‚ </td>
            <td></td>
        </tr>
        <tr>
            <td>ki add</td>
            
            <td>åˆ›å»ºä¸€ä¸ªPageæˆ–ç‰ˆæœ¬</td>
            
            <td><code>ki add home/1.0</code></td>
        </tr>
        <tr>
            <td>
                ki build
            </td>
            
            <td>æ‰“åŒ…ä¸€ä¸ªç‰ˆæœ¬åˆ°æ—¶é—´æˆ³ç›®å½•</td>
            
            <td>
                <code>ki build samplepage/1.0 -t 20121221</code><br>
                æ‰“åŒ…ä¸€ä¸ªPage<br><br>
                
                <code>ki build samplepage/1.0 samplepage2/1.0 -t 20121221</code><br>
                æ‰“åŒ…å¤šä¸ªpage<br><br>
                
                <code>ki build samplepage/1.0</code><br>
                ä¸æŒ‡å®štimestamp å°†í¡Šæ‰“åŒ…åˆ°æœ€è¿‘çš„ä¸€æ¬¡æ‰“åŒ…ç›®å½•<br><br>
                
                <code>ki build samplepage/1.0 -t 20121221 -w</code><br>
                åŠ å‚æ•°<code>-w</code> æˆ– <code>--watch</code> å¯ä»¥ç›‘è§†ç›®å½•å˜æ›´ï¼Œã€€ä»£ç æœ‰æ›´æ–°ä¼šè‡ªåŠ¨æ‰“åŒ…<br><br>
                
                <code>ki build common</code><br>
                æ‰“åŒ…Commonç›®å½•<br><br>
            </td>
        </tr>

        <tr>
            <td>
                ki group<br>
                ki g
            </td>

            <td>
                å¯ä»¥é€šè¿‡ki group build {groupname}æ–¹ä¾¿æ‰§è¡Œæ‰¹é‡æ“ä½œ <br>
                _æ³¨æ„_ ä¸€ä¸ªç»„é‡Œé¢åªèƒ½åŒ…å«ä¸€ä¸ªPageçš„ä¸€ä¸ªversionï¼›
            </td>
            
            <td>
                <code>ki group set front home/1.0 about/1.0 </code><br>
                è®¾ç½®ä¸€ä¸ªç»„<br><br>
                
                <code>ki group add {groupname} [{pagename}/{version}]...</code><br>
                æ·»åŠ Pageåˆ°ç°æœ‰çš„ç»„<br><br>
                
                <code>ki group list|show {groupname}</code><br>
                æ˜¾ç¤ºä¸€ä¸ªç»„åŒ…å«çš„Page<br><br>
                
                <code>ki group</code><br>
                æ˜¾ç¤ºæ‰€æœ‰çš„ç»„<br><br>
                
                <code>ki group build front -t 20121221</code><br>
                æ‰“åŒ…ä¸€ä¸ªç»„é‡Œçš„æ‰€æœ‰pageåˆ°æ—¶é—´æˆ³<br><br>
                
                <code>ki group rm front</code><br>
                åˆ é™¤ä¸€ä¸ªç»„<br><br>
            </td>
        </tr>

    </tbody>
</table>





## ç›¸å…³èµ„æ–™
ï¼ã€€[ã€Šä½¿ç”¨Kissy Pieå¿«é€Ÿæ„å»ºâ€”kissy1.2æœ€ä½³å®è·µæ¢ç´¢ã€‹](http://www.36ria.com/5536)

## ä¾èµ–

- css-combo https://github.com/daxingplay/css-combo
- iconv-lite https://github.com/ashtuchkin/iconv-lite
- tbuild https://github.com/czy88840616/tbuild
- less.js http://lesscss.org
- cssmin 
- uglifyjs https://github.com/mishoo/UglifyJS
- csslint http://csslint.net
- expressjs http://expressjs.org


## å…¼å®¹æ€§

* node 0.8.x +
* window xp +
* OSX 10.7 +